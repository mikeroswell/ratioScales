<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ratioScales">
<title>Ratio scales and centinels • ratioScales</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ratio scales and centinels">
<meta property="og:description" content="ratioScales">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ratioScales</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Ratio_scales_and_centinels.html">Ratio scales and centinels</a>
    <a class="dropdown-item" href="../articles/centiNels.html">centiNels</a>
    <a class="dropdown-item" href="../articles/divMult.html">divMult and percDiff</a>
    <a class="dropdown-item" href="../articles/gallery.html">gallery</a>
    <a class="dropdown-item" href="../articles/make_captions.html">make_captions</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Ratio scales and centinels</h1>
            
      
      
      <div class="d-none name"><code>Ratio_scales_and_centinels.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mikeroswell.github.io/ratioScales/">ratioScales</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>,</span>
<span>                                           vjust <span class="op">=</span> <span class="fl">1</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="hook">Hook<a class="anchor" aria-label="anchor" href="#hook"></a>
</h3>
<p>I’ve been staring at the NY Times COVID data obsessively, nearly
daily, for most of the past two years. Not only am I on the look out (a
<em>sentinel</em>), but I even try to make some decisions on the basis
of these data, trying to understand the disease prevalence in my region
as I evaluate which activities seem like reasonable risks.</p>
<p>I’ve noticed the NYT shows the case rates on an arithmetic scale,
which I think makes my work a bit harder. Here is an exploration of some
alternative scales and units (all the scale and unit ideas here are from
<a href="https://mac-theobio.github.io/dushoff.html" class="external-link">Jonathan
Dushoff</a>, but I wrote this up in March 2022 to understand them all),
which might help me make more sense of the data and think more clearly
about the risks I take.</p>
<p>First, grab the data, which are freely available on github:</p>
</div>
<div class="section level3">
<h3 id="data-acquisition-crunching">Data acquisition, crunching<a class="anchor" aria-label="anchor" href="#data-acquisition-crunching"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># vid &lt;- read.csv("https://github.com/nytimes/covid-19-data/raw/master/rolling-averages/us-states.csv")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">vid</span>, package <span class="op">=</span> <span class="st">"ratioScales"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; name=vid:     found in Rdata.rds</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">vid</span><span class="op">)</span></span>
<span><span class="co">#&gt;         date  geoid      state cases cases_avg cases_avg_per_100k deaths</span></span>
<span><span class="co">#&gt; 1 2020-01-21 USA-53 Washington     1      0.14                  0      0</span></span>
<span><span class="co">#&gt; 2 2020-01-22 USA-53 Washington     0      0.14                  0      0</span></span>
<span><span class="co">#&gt; 3 2020-01-23 USA-53 Washington     0      0.14                  0      0</span></span>
<span><span class="co">#&gt; 4 2020-01-24 USA-53 Washington     0      0.14                  0      0</span></span>
<span><span class="co">#&gt; 5 2020-01-24 USA-17   Illinois     1      0.14                  0      0</span></span>
<span><span class="co">#&gt; 6 2020-01-25 USA-53 Washington     0      0.14                  0      0</span></span>
<span><span class="co">#&gt;   deaths_avg deaths_avg_per_100k</span></span>
<span><span class="co">#&gt; 1          0                   0</span></span>
<span><span class="co">#&gt; 2          0                   0</span></span>
<span><span class="co">#&gt; 3          0                   0</span></span>
<span><span class="co">#&gt; 4          0                   0</span></span>
<span><span class="co">#&gt; 5          0                   0</span></span>
<span><span class="co">#&gt; 6          0                   0</span></span></code></pre></div>
<p>The first thing I’m going to do is establish a reference point for
myself. I gathered with &gt;150 vaccinated people without masks in
October of 2021. This was right at the edge of what seems like an ok
risk to me, so I’ll set it as a reference point.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ref_date</span> <span class="op">&lt;-</span> <span class="va">vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">date</span> <span class="op">==</span><span class="st">"2021-10-17"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">state</span>, ref_case_rate <span class="op">=</span> <span class="va">cases_avg_per_100k</span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_vid</span> <span class="op">&lt;-</span> <span class="va">vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">ref_date</span>, by <span class="op">=</span> <span class="st">"state"</span><span class="op">)</span></span></code></pre></div>
<p>Just to make my life easier, I’m going to add a couple columns that
rescale the average daily case rate per 100,000 residents vis-a-vis this
reference date, one on the arithmetic scale and the other on the log
scale. Also, to make life easier I’ll drop all states except my imediate
neighbors in Maryland.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">near_states</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Maryland"</span>, <span class="st">"Virginia"</span>, <span class="st">"Delaware"</span>, <span class="st">"District of Columbia"</span>, <span class="st">"West Virginia"</span>, <span class="st">"Pennsylvania"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nel_vid</span> <span class="op">&lt;-</span> <span class="va">new_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>nel_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">cases_avg_per_100k</span><span class="op">/</span><span class="va">ref_case_rate</span><span class="op">)</span></span>
<span>                          , prop_rate <span class="op">=</span> <span class="va">cases_avg_per_100k</span><span class="op">/</span><span class="va">ref_case_rate</span></span>
<span>                          , date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">state</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">near_states</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scales">Scales<a class="anchor" aria-label="anchor" href="#scales"></a>
</h2>
<p>I’ve grown accustomed to staring at the data on an arithmetic scale.
Here, “1” represents a rate equivalent to the one on that date when I
was somewhat comfortable with &gt;150 other maskless, vaccinated
people:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nel_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">prop_rate</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-17"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Cases relative to my reference"</span>, x <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span></code></pre></div>
<p><img src="Ratio_scales_and_centinels_files/figure-html/plot_arithmetic-1.png" width="672"></p>
<p>Now, “5” means the cases were 5x as high, and “0.2” (which is hard to
pick out) means the cases were 1/5 as high. The first thing that jumped
out to me is that, in all the neighboring states, cases are now lower
than they were on my reference date! But, on this scale, it’s very hard
to see by how much.</p>
<p>An alternative to using the arithmetic scale is to use a
<em>natural</em> logarithmic scale. Whereas in the graph above, 2
represented double my reference case rate, on the natural log scale, 2
means… “<em>2 nels</em>”. The really nice thing is that “nels” are
symmetrical in terms of changes in the case rate: if the rate
<em>doubles</em>, the graph goes up by about 0.7 nels, and if it
<em>halves</em>, the graphs go down by the same about (about 0.7
nels).</p>
<p>Let’s look at the graph plotted in “nels”:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nel_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">nel_rate</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-17"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"date"</span>, y <span class="op">=</span> <span class="st">"Cases relative to my reference \n(nels)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Ratio_scales_and_centinels_files/figure-html/first_nel_plot-1.png" width="672"></p>
<p>WOW! I see so many things in this graph! The first thing to jump out
is how incredibly good it got in summer 2021, which was very hard to
discern in the graph above. Looks like in early July last year, cases
were <em>3 nels lower</em> than even my reference, which I considered to
be a relatively good time (though the Delta variant was pretty horrid
then, especially in some parts of the USA).</p>
<p>Another things that jumps out is that maybe I should drop the early
data. First off, there’s lots of reasons to ignore them anyways, since
testing infrastructure was so different then, and second off, they make
the range of the graph go really low, below minus <strong>nine</strong>
“nels.”</p>
<p>So, what is a <em>nel</em>? You’ve probably guessed, it’s called that
because it is one Natural Log unit, (one NL; one “nel”). A nel is a big
number: 1 nel is over 2.5 times my reference rate, and 2 nels is over 7
times my reference rate.</p>
<p>Once I drop the very early data, I might see that a “nel”, like a <a href="https://en.wikipedia.org/wiki/Decibel" class="external-link">“bel”</a>, might be an
awkwardly sized unit for the kinds of changes I’m most interested in, so
we’ll look at “<em>centinels</em>” instead. This is the same idea as
changing from a proportion to a percent.</p>
</div>
<div class="section level2">
<h2 id="centinels">Centinels!!!<a class="anchor" aria-label="anchor" href="#centinels"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># drop before april 2020</span></span>
<span>    </span>
<span><span class="va">cut_vid</span> <span class="op">&lt;-</span> <span class="va">nel_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">date</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-04-01"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># we are used to using percents instead of proportions</span></span>
<span><span class="va">cut_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">prop_rate</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-17"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Cases relative to my reference"</span>, x <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Ratio_scales_and_centinels_files/figure-html/nel_to_centinel-1.png" width="672"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># now "centinels" instead of "nels"</span></span>
<span><span class="va">cut_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">nel_rate</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-17"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"date"</span>, y <span class="op">=</span> <span class="st">"Cases relative to my reference \n(centinels)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Ratio_scales_and_centinels_files/figure-html/nel_to_centinel-2.png" width="672"></p>
<p>“Centinels” look like they could be nice units for staring at this,
but what the heck is 1 centinel? Amazingly, a centinel isn’t that funky
a unit. Plus one centinel is pretty close to a 1% increase!</p>
<p>let’s take a look:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">5</span>, <span class="va">pi</span><span class="op">)</span></span>
<span><span class="co"># 1% increase</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">*</span><span class="fl">1.01</span> </span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">*</span><span class="fl">0.99</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">/</span> <span class="fl">1.01</span></span>
<span><span class="va">centinel</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">ref</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fl">100</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">/</span><span class="va">ref</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">percent</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">ref</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">x</span><span class="op">/</span><span class="va">ref</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu">percent</span><span class="op">(</span><span class="va">y</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 1 1</span></span>
<span><span class="co"># it's pretty close</span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="va">y</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.9950331 0.9950331 0.9950331</span></span>
<span></span>
<span></span>
<span><span class="co"># compare to decreases</span></span>
<span><span class="fu">percent</span><span class="op">(</span><span class="va">z</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -1 -1 -1</span></span>
<span><span class="co"># these are all close too</span></span>
<span><span class="fu">percent</span><span class="op">(</span><span class="va">w</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -0.990099 -0.990099 -0.990099</span></span>
<span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="va">z</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -1.005034 -1.005034 -1.005034</span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="va">w</span>, <span class="va">x</span><span class="op">)</span>  </span>
<span><span class="co">#&gt; [1] -0.9950331 -0.9950331 -0.9950331</span></span>
<span></span>
<span><span class="co"># percents go additively, though. So it's hard to think about compounding them</span></span>
<span><span class="co"># which is what we usually want to do when things change</span></span>
<span></span>
<span><span class="co"># if COVID went up by 1% a day for five consecutive days, it would go up by </span></span>
<span><span class="co"># about 5 %. </span></span>
<span><span class="fl">1.01</span><span class="op">^</span><span class="fl">5</span></span>
<span><span class="co">#&gt; [1] 1.05101</span></span>
<span><span class="co"># But if it went up by 1% a day for fifty consecutive days</span></span>
<span><span class="fl">1.01</span><span class="op">^</span><span class="fl">50</span></span>
<span><span class="co">#&gt; [1] 1.644632</span></span>
<span><span class="co"># it would go up by more than 60%. This can really trip me up!</span></span>
<span></span>
<span><span class="co"># centinels compound much more sensibly</span></span>
<span></span>
<span><span class="va">compounded</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">change</span>, <span class="va">times</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x</span><span class="op">*</span><span class="va">change</span><span class="op">^</span><span class="va">times</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># compound 1% 50 times, you get a 64% increase</span></span>
<span><span class="fu">percent</span><span class="op">(</span><span class="fu">compounded</span><span class="op">(</span><span class="va">x</span>, <span class="fl">1.01</span>, <span class="fl">50</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 64.46318 64.46318 64.46318</span></span>
<span></span>
<span><span class="co"># but a 50 centinel increase :-)</span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="fu">compounded</span><span class="op">(</span><span class="va">x</span>, <span class="fl">1.01</span>, <span class="fl">50</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 49.75165 49.75165 49.75165</span></span>
<span></span>
<span><span class="co"># try going backwards</span></span>
<span><span class="fu">percent</span><span class="op">(</span><span class="fu">compounded</span><span class="op">(</span><span class="va">x</span>, <span class="fl">0.99</span>, <span class="fl">50</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -39.49939 -39.49939 -39.49939</span></span>
<span><span class="co"># that's annoying. Only 39% now?!?!</span></span>
<span></span>
<span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="fu">compounded</span><span class="op">(</span><span class="va">x</span>, <span class="fl">0.99</span>, <span class="fl">50</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -50.25168 -50.25168 -50.25168</span></span>
<span><span class="co"># still a change of 50 centinels</span></span>
<span></span>
<span><span class="co"># and more precisely opposite </span></span>
<span><span class="fu">centinel</span><span class="op">(</span><span class="fu">compounded</span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">1.01</span>, <span class="fl">50</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -49.75165 -49.75165 -49.75165</span></span></code></pre></div>
<p>We like centinels. The name is fun, and they are helpful for thinking
about compounded changes. They balance around the reference point. Maybe
we can use them more. But it will take some practice to become fluent in
interpreting them.</p>
<p>I rely on benchmarks: Beyond the 1% thing, I also know that 70
centinels is roughly doubling, 140 is doubling ~2x, and 210 is doubling
~3x. To get to know centinels better, though, I need to get more
familiar with centinel values on the “divMult scale:” instead of “69.3,”
“138.6,” and “207.9,” and translating, I’ll have an easier time when I
see “2,” “4,” and “8.”</p>
<div class="section level3">
<h3 id="ratio-scales">Ratio scales<a class="anchor" aria-label="anchor" href="#ratio-scales"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">cut_vid</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">prop_rate</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-17"</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_ratio.html">scale_y_ratio</a></span><span class="op">(</span></span>
<span>   tickVal <span class="op">=</span> <span class="st">"divMult"</span></span>
<span>    , slashStar <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    , sec.axis <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/sec_axis.html" class="external-link">sec_axis</a></span><span class="op">(</span> trans <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span></span>
<span>                          , breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/breaks_extended.html" class="external-link">breaks_extended</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span>                          , name <span class="op">=</span> <span class="st">"centinels"</span><span class="op">)</span></span>
<span> </span>
<span>    <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"date"</span>, y <span class="op">=</span> <span class="st">"Cases relative to my reference \n(divMult scale)"</span> <span class="op">)</span></span></code></pre></div>
<p><img src="Ratio_scales_and_centinels_files/figure-html/centinels_and_ratios-1.png" width="672"></p>
<p>With the ratio scale as a guide, I feel I can navigate centinels more
easily… but maybe I just prefer the ratio scale? On the ratio scale, the
reference is 1 (it could be <span class="math inline">\(\times
1\)</span> or <span class="math inline">\(\div 1\)</span>, either is an
identity). Then, labels indicate symmetrical geometric changes (e.g.,
<span class="math inline">\(\times 2, \div 2; \times 12, \div
12\)</span>). This scale preserves the symmetry of log scales, but the
labels have units, and operators, that make concrete, intuitive sense to
me.</p>
<p>What have I learned about COVID-19 in my area? Things got really bad
this winter, which I knew… but I have a clearer quantitative sense of
now. Also, as I already knew, times have been getting better, but now I
see how fast! If I take the NYT daily case rate as a good prevalence
estimate, the prevalence of COVID-19 is now less than half what it was
in mid-October 2021, when the Delta surge was subsiding. Although mask
mandates in the region have been lifted recently, the prevalence
continues to fall at a good clip, with only slight indications that
lifting mandates has slowed the subsidance. If my risk tolerance is
similar to what it was in the fall, I should feel pretty good now about
gathering with people who are vaccinated and important to me :-).</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Roswell, Jonathan Dushoff, Ben Bolker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
